"use strict";(self.webpackChunkopendal_website=self.webpackChunkopendal_website||[]).push([[4348],{9613:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(9496);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(a),m=i,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9206:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(8126),i=(a(9496),a(9613));const r={title:"OwO #1: The v0.40 Release",date:new Date("2023-09-15T00:00:00.000Z"),slug:"owo-1",tags:["owo"],authors:[{name:"Xuanwo",url:"https://github.com/Xuanwo",image_url:"https://github.com/Xuanwo.png"}]},o=void 0,l={permalink:"/blog/owo-1",editUrl:"https://github.com/apache/opendal/tree/main/website/blog/2023-09-14-owo-1/index.md",source:"@site/blog/2023-09-14-owo-1/index.md",title:"OwO #1: The v0.40 Release",description:"OwO (Outcome, Working, Outlook) is an Apache OpenDAL\u2122 release blog series, where we share the current work status and future plans.",date:"2023-09-15T00:00:00.000Z",formattedDate:"September 15, 2023",tags:[{label:"owo",permalink:"/blog/tags/owo"}],readingTime:3.915,hasTruncateMarker:!1,authors:[{name:"Xuanwo",url:"https://github.com/Xuanwo",image_url:"https://github.com/Xuanwo.png",imageURL:"https://github.com/Xuanwo.png"}],frontMatter:{title:"OwO #1: The v0.40 Release",date:"2023-09-15T00:00:00.000Z",slug:"owo-1",tags:["owo"],authors:[{name:"Xuanwo",url:"https://github.com/Xuanwo",image_url:"https://github.com/Xuanwo.png",imageURL:"https://github.com/Xuanwo.png"}]},prevItem:{title:"Apache OpenDAL\u2122 is now Graduated",permalink:"/blog/apache-opendal-graduated"},nextItem:{title:"Apache OpenDAL\u2122 Internal: Data Reading",permalink:"/blog/how-opendal-read-data"}},s={authorsImageUrls:[void 0]},p=[{value:"Outcome",id:"outcome",level:2},{value:"Core",id:"core",level:3},{value:"Unifying Append and Write Functions",id:"unifying-append-and-write-functions",level:4},{value:"New Lister API",id:"new-lister-api",level:4},{value:"List With Metakey",id:"list-with-metakey",level:4},{value:"Buffered Writer",id:"buffered-writer",level:4},{value:"Others",id:"others",level:4},{value:"Bindings",id:"bindings",level:3},{value:"C++",id:"c",level:4},{value:"Haskell",id:"haskell",level:4},{value:"Java",id:"java",level:4},{value:"New bindings!",id:"new-bindings",level:4},{value:"Applications",id:"applications",level:3},{value:"oay",id:"oay",level:4},{value:"oli",id:"oli",level:4},{value:"Integrations",id:"integrations",level:3},{value:"object_store",id:"object_store",level:4},{value:"Working",id:"working",level:2},{value:"Outlook",id:"outlook",level:2},{value:"Summary",id:"summary",level:2}],u={toc:p},d="wrapper";function c(e){let{components:t,...a}=e;return(0,i.kt)(d,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"OwO (Outcome, Working, Outlook) is an Apache OpenDAL\u2122 release blog series, where we share the current work status and future plans.")),(0,i.kt)("p",null,"Hello! It's been a while since our last update. We've been hard at work determining the optimal way to implement new features and improvements. We're thrilled to announce that we'll soon be releasing v0.40."),(0,i.kt)("p",null,"This post is structured into three main sections:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Outcome (1st ",(0,i.kt)("inlineCode",{parentName:"li"},"O")," in ",(0,i.kt)("inlineCode",{parentName:"li"},"OwO"),"): Summarizes the key accomplishments in the v0.40 release."),(0,i.kt)("li",{parentName:"ul"},"Working (the ",(0,i.kt)("inlineCode",{parentName:"li"},"w")," in ",(0,i.kt)("inlineCode",{parentName:"li"},"OwO"),"): Provides an update on our current work."),(0,i.kt)("li",{parentName:"ul"},"Outlook (2nd ",(0,i.kt)("inlineCode",{parentName:"li"},"O")," in ",(0,i.kt)("inlineCode",{parentName:"li"},"OwO"),"): Discusses what lies ahead for OpenDAL.")),(0,i.kt)("h2",{id:"outcome"},"Outcome"),(0,i.kt)("p",null,"OpenDAL now comprises four primary components:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Core: The core library written in Rust."),(0,i.kt)("li",{parentName:"ul"},"Bindings: Language bindings powered by the OpenDAL Rust core."),(0,i.kt)("li",{parentName:"ul"},"Applications: Applications built using the OpenDAL Rust core."),(0,i.kt)("li",{parentName:"ul"},"Integrations: Collaborations with other projects.")),(0,i.kt)("h3",{id:"core"},"Core"),(0,i.kt)("h4",{id:"unifying-append-and-write-functions"},"Unifying Append and Write Functions"),(0,i.kt)("p",null,"OpenDAL has supported ",(0,i.kt)("inlineCode",{parentName:"p"},"append")," operations since ",(0,i.kt)("inlineCode",{parentName:"p"},"v0.36"),". We've found, however, that this led to significant duplication between append and write. As a result, we've streamlined the two functionalities into a single write function. Our users can now:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},'let mut w = op.writer_with("test.txt").append(true).await?;\nw.write(content_a).await?;\nw.write(content_b).await?;\nw.close().await?;\n')),(0,i.kt)("p",null,"This way, users can reuse the ",(0,i.kt)("inlineCode",{parentName:"p"},"Writer")," in their own logic without handling ",(0,i.kt)("inlineCode",{parentName:"p"},"append")," separately."),(0,i.kt)("h4",{id:"new-lister-api"},"New Lister API"),(0,i.kt)("p",null,"To improve API consistency, we've made some adjustments to our listing functions. We've added ",(0,i.kt)("inlineCode",{parentName:"p"},"list")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"list_with")," methods that perform single operations and renamed the original ",(0,i.kt)("inlineCode",{parentName:"p"},"list")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"lister")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"lister_with"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},'// Old API\nlet lister: Lister = op.list("dir").await?;\n\n// New API\nlet entries: Vec<Entry> = op.list("dir").await?;\nlet lister: Lister = op.lister("dir").await?;\n')),(0,i.kt)("p",null,"This brings uniformity to our API offerings."),(0,i.kt)("h4",{id:"list-with-metakey"},"List With Metakey"),(0,i.kt)("p",null,"To speed up list operations, OpenDAL can now fetch and store metadata during the listing process. This eliminates the need for separate metadata calls:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},'let entries: Vec<Entry> = op\n  .list_with("dir/")\n  .metakey(Metakey::ContentLength | Metakey::ContentType).await?;\n\n// Use the metadata directly!\nlet meta: &Metadata = entries[0].metadata();\n')),(0,i.kt)("p",null,"This makes metadata retrieval more intuitive."),(0,i.kt)("h4",{id:"buffered-writer"},"Buffered Writer"),(0,i.kt)("p",null,"We've added general buffer support to optimize writing operations."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},'let w = op.writer_with("path/to/file").buffer(8 * 1024 * 1024).await?\n')),(0,i.kt)("h4",{id:"others"},"Others"),(0,i.kt)("p",null,"Other improvements in the core library can be found in our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/blob/main/CHANGELOG.md"},"CHANGELOG"),"."),(0,i.kt)("h3",{id:"bindings"},"Bindings"),(0,i.kt)("h4",{id:"c"},"C++"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/tree/main/bindings/cpp"},(0,i.kt)("inlineCode",{parentName:"a"},"opendal-cpp"))," is ready for its first release! Welcome to check it out and give us some feedback."),(0,i.kt)("h4",{id:"haskell"},"Haskell"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/tree/main/bindings/haskell"},(0,i.kt)("inlineCode",{parentName:"a"},"opendal-hs"))," is ready for its first release! Welcome to check it out and give us some feedback."),(0,i.kt)("h4",{id:"java"},"Java"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/tree/main/bindings/java"},(0,i.kt)("inlineCode",{parentName:"a"},"opendal-java"))," enabled more available services in this release, allowing user to visit services like ",(0,i.kt)("inlineCode",{parentName:"p"},"redis")," that not enabled by default in rust core. And ",(0,i.kt)("inlineCode",{parentName:"p"},"opendal-java")," enabled blocking layer to allow users visit services like ",(0,i.kt)("inlineCode",{parentName:"p"},"s3")," in blocking way."),(0,i.kt)("p",null,"Welcome to integrate ",(0,i.kt)("inlineCode",{parentName:"p"},"opendal-java")," into your project and give us some feedback."),(0,i.kt)("h4",{id:"new-bindings"},"New bindings!"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/tree/main/bindings/dotnet"},(0,i.kt)("inlineCode",{parentName:"a"},"opendal-dotnet"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/tree/main/bindings/php"},(0,i.kt)("inlineCode",{parentName:"a"},"opendal-php")))),(0,i.kt)("h3",{id:"applications"},"Applications"),(0,i.kt)("h4",{id:"oay"},"oay"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/tree/main/bin/oay"},"oay")," is OpenDAL Gateway that allows users to access OpenDAL services via existing protocols like ",(0,i.kt)("inlineCode",{parentName:"p"},"s3")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"webdav"),". It works like a proxy that forwarding requests to OpenDAL services."),(0,i.kt)("p",null,"In this release, we implement basic ",(0,i.kt)("inlineCode",{parentName:"p"},"webdav")," support. Users can convert any storage services to a webdav server!"),(0,i.kt)("h4",{id:"oli"},"oli"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/tree/main/bin/oay"},"oli")," is OpenDAL CLI that allows users to access storage services via CLI like ",(0,i.kt)("inlineCode",{parentName:"p"},"s3cmd")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"gcloud")," does."),(0,i.kt)("p",null,"We fixed some experience issues in this release and improved some docs. Welcome to try it out and give us some feedback."),(0,i.kt)("h3",{id:"integrations"},"Integrations"),(0,i.kt)("h4",{id:"object_store"},"object_store"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/tree/main/integrations/object_store"},"object_store")," instead to implement ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/arrow-rs/tree/master/object_store"},(0,i.kt)("inlineCode",{parentName:"a"},"object_store")),"'s trait over OpenDAL Operator so that users can use OpenDAL as a backend for ",(0,i.kt)("inlineCode",{parentName:"p"},"object_store"),"."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"object_store")," is mostly functional, but there are some edge use cases that OpenDAL has yet to support."),(0,i.kt)("p",null,"So far, this release hasn't seen progress in this area; we are awaiting the resolution of the issue ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/opendal/issues/2762"},"Allow list paths that do not end with ",(0,i.kt)("inlineCode",{parentName:"a"},"/")),"."),(0,i.kt)("h2",{id:"working"},"Working"),(0,i.kt)("p",null,"We are working on the following things:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"object_store")," support: Make ",(0,i.kt)("inlineCode",{parentName:"li"},"object_store")," integration works and find a user for it."),(0,i.kt)("li",{parentName:"ul"},"Remove the ",(0,i.kt)("inlineCode",{parentName:"li"},"/")," limitation for path, so we can list a path without ending with ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),"."),(0,i.kt)("li",{parentName:"ul"},"Expand the ",(0,i.kt)("inlineCode",{parentName:"li"},"start-after")," support to more services (Address ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/issues/2786"},"#2786"),").")),(0,i.kt)("h2",{id:"outlook"},"Outlook"),(0,i.kt)("p",null,"We are exploring some innovative ideas:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/discussions/2951"},"OpenDAL REST/gRPC API"),": A REST/gRPC Server for OpenDAL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/discussions/2953"},"OpenDAL Cache"),": OpenDAL native cache libs that allowing users to access data more efficiently."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/discussions/2952"},"OpenDAL File System"),": A read-only file system that built upon OpenDAL in rust!"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/apache/opendal/discussions/3042"},"kio-opendal"),": A kio plugin powered by OpenDAL that allows users to visit different storage services in ",(0,i.kt)("a",{parentName:"li",href:"https://apps.kde.org/dolphin/"},"KDE Dolphin"),"."),(0,i.kt)("li",{parentName:"ul"},"gvfs-opendal: A gvfs plugin powered by OpenDAL that allows users to visit different storage services in ",(0,i.kt)("a",{parentName:"li",href:"https://wiki.gnome.org/Apps/Files"},"GNOME Files"))),(0,i.kt)("p",null,"Feel free to join in the discussion!"),(0,i.kt)("h2",{id:"summary"},"Summary"),(0,i.kt)("p",null,"This marks our first OpenDAL ",(0,i.kt)("inlineCode",{parentName:"p"},"OwO")," post. We welcome your feedback."))}c.isMDXComponent=!0}}]);